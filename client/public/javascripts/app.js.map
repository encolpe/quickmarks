{"version":3,"file":"public/javascripts/app.js","sources":["app/collections/bookmark_collection.coffee","app/collections/tag_collection.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/view.coffee","app/lib/view_collection.coffee","app/models/bookmark.coffee","app/models/tag.coffee","app/routers/app_router.coffee","app/views/app_view.coffee","app/views/bookmark_view.coffee","app/views/bookmarks_view.coffee","app/views/tag_view.coffee","app/views/tags_view.coffee","app/views/templates/bookmark.jade","app/views/templates/home.jade","app/views/templates/tag.jade"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjGA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzIA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1DA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvQA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtGA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5DA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;A","sourcesContent":["var Bookmark, BookmarkCollection,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBookmark = require('../models/bookmark');\n\nmodule.exports = BookmarkCollection = (function(superClass) {\n  extend(BookmarkCollection, superClass);\n\n  BookmarkCollection.prototype.model = Bookmark;\n\n  BookmarkCollection.prototype.url = 'bookmarks';\n\n  function BookmarkCollection(view) {\n    this.view = view;\n    BookmarkCollection.__super__.constructor.call(this);\n    this.bind(\"add\", this.view.renderOne);\n    this.bind(\"reset\", this.view.renderAll);\n  }\n\n  return BookmarkCollection;\n\n})(Backbone.Collection);\n","var Tag, TagCollection,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nTag = require('../models/tag');\n\nmodule.exports = TagCollection = (function(superClass) {\n  extend(TagCollection, superClass);\n\n  function TagCollection() {\n    return TagCollection.__super__.constructor.apply(this, arguments);\n  }\n\n  TagCollection.prototype.model = Tag;\n\n  TagCollection.prototype.url = 'tags';\n\n  return TagCollection;\n\n})(Backbone.Collection);\n","if (this.CozyApp == null) {\n  this.CozyApp = {};\n}\n\nif (CozyApp.Routers == null) {\n  CozyApp.Routers = {};\n}\n\nif (CozyApp.Views == null) {\n  CozyApp.Views = {};\n}\n\nif (CozyApp.Models == null) {\n  CozyApp.Models = {};\n}\n\nif (CozyApp.Collections == null) {\n  CozyApp.Collections = {};\n}\n\n$(function() {\n  var AppView;\n  require('../lib/app_helpers');\n  CozyApp.Views.appView = new (AppView = require('views/app_view'));\n  CozyApp.Views.appView.render();\n  return Backbone.history.start({\n    pushState: true\n  });\n});\n","(function() {\n  return (function() {\n    var console, dummy, method, methods, results;\n    console = window.console = window.console || {};\n    method = void 0;\n    dummy = function() {};\n    methods = 'assert,count,debug,dir,dirxml,error,exception, group,groupCollapsed,groupEnd,info,log,markTimeline, profile,profileEnd,time,timeEnd,trace,warn'.split(',');\n    results = [];\n    while (method = methods.pop()) {\n      results.push(console[method] = console[method] || dummy);\n    }\n    return results;\n  })();\n})();\n","var View,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = View = (function(superClass) {\n  extend(View, superClass);\n\n  function View() {\n    return View.__super__.constructor.apply(this, arguments);\n  }\n\n  View.prototype.tagName = 'section';\n\n  View.prototype.template = function() {};\n\n  View.prototype.initialize = function() {\n    return this.render();\n  };\n\n  View.prototype.getRenderData = function() {\n    var ref;\n    return {\n      model: (ref = this.model) != null ? ref.toJSON() : void 0\n    };\n  };\n\n  View.prototype.render = function() {\n    this.beforeRender();\n    this.$el.html(this.template());\n    this.afterRender();\n    return this;\n  };\n\n  View.prototype.beforeRender = function() {};\n\n  View.prototype.afterRender = function() {};\n\n  View.prototype.destroy = function() {\n    this.undelegateEvents();\n    this.$el.removeData().unbind();\n    this.remove();\n    return Backbone.View.prototype.remove.call(this);\n  };\n\n  View.confirm = function(text, cb) {\n    $(function() {\n      return (new PNotify({\n        \"text\": text,\n        \"icon\": false,\n        \"hide\": false,\n        \"type\": \"info\",\n        \"confirm\": {\n          \"confirm\": true\n        },\n        \"buttons\": {\n          \"sticker\": false\n        },\n        \"width\": \"40%\"\n      })).get().on(\"pnotify.confirm\", function() {\n        cb();\n        return false;\n      });\n    });\n    return false;\n  };\n\n  View.error = function(text) {\n    return $(function() {\n      return new PNotify({\n        \"text\": text,\n        \"icon\": false,\n        \"hide\": false,\n        \"type\": \"error\",\n        \"buttons\": {\n          \"sticker\": false\n        }\n      });\n    });\n  };\n\n  View.log = function(text) {\n    return $(function() {\n      return new PNotify({\n        \"text\": text,\n        \"icon\": false,\n        \"opacity\": .8,\n        \"delay\": 2000,\n        \"buttons\": {\n          \"sticker\": false\n        }\n      });\n    });\n  };\n\n  return View;\n\n})(Backbone.View);\n","var View, ViewCollection, methods,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nView = require('./view');\n\nViewCollection = (function(superClass) {\n  extend(ViewCollection, superClass);\n\n  function ViewCollection() {\n    this.renderAll = bind(this.renderAll, this);\n    this.renderOne = bind(this.renderOne, this);\n    return ViewCollection.__super__.constructor.apply(this, arguments);\n  }\n\n  ViewCollection.prototype.collection = new Backbone.Collection();\n\n  ViewCollection.prototype.view = new View();\n\n  ViewCollection.prototype.views = [];\n\n  ViewCollection.prototype.length = function() {\n    return this.views.length;\n  };\n\n  ViewCollection.prototype.add = function(views, options) {\n    var i, len, view;\n    if (options == null) {\n      options = {};\n    }\n    views = _.isArray(views) ? views.slice() : [views];\n    for (i = 0, len = views.length; i < len; i++) {\n      view = views[i];\n      if (!this.get(view.cid)) {\n        this.views.push(view);\n        if (!options.silent) {\n          this.trigger('add', view, this);\n        }\n      }\n    }\n    return this;\n  };\n\n  ViewCollection.prototype.get = function(cid) {\n    return this.find(function(view) {\n      return view.cid === cid;\n    }) || null;\n  };\n\n  ViewCollection.prototype.remove = function(views, options) {\n    var i, len, view;\n    if (options == null) {\n      options = {};\n    }\n    views = _.isArray(views) ? views.slice() : [views];\n    for (i = 0, len = views.length; i < len; i++) {\n      view = views[i];\n      this.destroy(view);\n      if (!options.silent) {\n        this.trigger('remove', view, this);\n      }\n    }\n    return this;\n  };\n\n  ViewCollection.prototype.destroy = function(view, options) {\n    var _views;\n    if (view == null) {\n      view = this;\n    }\n    if (options == null) {\n      options = {};\n    }\n    _views = this.filter(_view)(function() {\n      return view.cid !== _view.cid;\n    });\n    this.views = _views;\n    view.undelegateEvents();\n    view.$el.removeData().unbind();\n    view.remove();\n    Backbone.View.prototype.remove.call(view);\n    if (!options.silent) {\n      this.trigger('remove', view, this);\n    }\n    return this;\n  };\n\n  ViewCollection.prototype.reset = function(views, options) {\n    var i, j, len, len1, ref, view;\n    if (options == null) {\n      options = {};\n    }\n    views = _.isArray(views) ? views.slice() : [views];\n    ref = this.views;\n    for (i = 0, len = ref.length; i < len; i++) {\n      view = ref[i];\n      this.destroy(view, options);\n    }\n    if (views.length !== 0) {\n      for (j = 0, len1 = views.length; j < len1; j++) {\n        view = views[j];\n        this.add(view, options);\n      }\n      if (!options.silent) {\n        this.trigger('reset', view, this);\n      }\n    }\n    return this;\n  };\n\n  ViewCollection.prototype.renderOne = function(model) {\n    var view;\n    view = new this.view(model);\n    this.$el.prepend(view.render().el);\n    this.add(view);\n    return this;\n  };\n\n  ViewCollection.prototype.renderAll = function() {\n    this.collection.each(this.renderOne);\n    return this;\n  };\n\n  return ViewCollection;\n\n})(View);\n\nmethods = ['forEach', 'each', 'map', 'reduce', 'reduceRight', 'find', 'detect', 'filter', 'select', 'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke', 'max', 'min', 'sortBy', 'sortedIndex', 'toArray', 'size', 'first', 'initial', 'rest', 'last', 'without', 'indexOf', 'shuffle', 'lastIndexOf', 'isEmpty', 'groupBy'];\n\n_.each(methods, function(method) {\n  return ViewCollection.prototype[method] = function() {\n    return _[method].apply(_, [this.views].concat(_.toArray(arguments)));\n  };\n});\n\nmodule.exports = ViewCollection;\n","var Bookmark,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = Bookmark = (function(superClass) {\n  extend(Bookmark, superClass);\n\n  function Bookmark() {\n    return Bookmark.__super__.constructor.apply(this, arguments);\n  }\n\n  Bookmark.prototype.urlRoot = 'bookmarks';\n\n  Bookmark.prototype.tagSep = \",\";\n\n  Bookmark.prototype.isNew = function() {\n    return this.id == null;\n  };\n\n  Bookmark.prototype.cleanValues = function() {\n    var httpUrl, local, tags;\n    tags = this.attributes.tags;\n    if (typeof tags === \"string\") {\n      tags = tags.split(this.tagSep);\n    }\n    this.attributes.readableTags = tags.join(this.tagSep + \" \");\n    httpUrl = this.attributes.url;\n    if (httpUrl.slice(0, 4) !== \"http\") {\n      httpUrl = \"http://\" + httpUrl;\n    }\n    this.attributes.httpUrl = httpUrl;\n    if (!this.attributes.created) {\n      this.attributes.date = \"just now\";\n    } else {\n      local = new Date(this.attributes.created);\n      local.setMinutes(local.getMinutes() - local.getTimezoneOffset());\n      this.attributes.date = local.toLocaleDateString(void 0, {\n        \"day\": \"2-digit\",\n        \"month\": \"2-digit\",\n        \"year\": \"numeric\"\n      });\n    }\n    if (!this.attributes.title) {\n      return this.attributes.htmlTitle = \"&nbsp;\";\n    } else {\n      return this.attributes.htmlTitle = this.attributes.title;\n    }\n  };\n\n  Bookmark.prototype.setTags = function(str) {\n    return str.split(this.tagSep).map(function(tag) {\n      return $.trim(tag);\n    });\n  };\n\n  return Bookmark;\n\n})(Backbone.Model);\n","var Tag,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = Tag = (function(superClass) {\n  extend(Tag, superClass);\n\n  function Tag() {\n    return Tag.__super__.constructor.apply(this, arguments);\n  }\n\n  Tag.prototype.urlRoot = 'tags';\n\n  return Tag;\n\n})(Backbone.Model);\n","var AppRouter,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = AppRouter = (function(superClass) {\n  extend(AppRouter, superClass);\n\n  function AppRouter() {\n    return AppRouter.__super__.constructor.apply(this, arguments);\n  }\n\n  AppRouter.prototype.routes = {\n    \"\": function() {}\n  };\n\n  return AppRouter;\n\n})(Backbone.Router);\n","var AppRouter, AppView, Bookmark, BookmarksView, Tag, TagsView, View,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nView = require(\"../lib/view\");\n\nAppRouter = require(\"../routers/app_router\");\n\nBookmarksView = require(\"./bookmarks_view\");\n\nBookmark = require(\"../models/bookmark\");\n\nTagsView = require(\"./tags_view\");\n\nTag = require(\"../models/tag\");\n\nmodule.exports = AppView = (function(superClass) {\n  extend(AppView, superClass);\n\n  function AppView() {\n    return AppView.__super__.constructor.apply(this, arguments);\n  }\n\n  AppView.prototype.el = \"body.application\";\n\n  AppView.prototype.events = {\n    \"submit #bookmark-add\": \"bookmarkLink\",\n    \"shown.bs.modal #add-modal\": \"showAddForm\",\n    \"shown.bs.modal #edit-modal\": \"showAddForm\",\n    \"submit .search\": \"search\",\n    \"click .tags-show\": \"showTags\",\n    \"click .tags-hide\": \"hideTags\",\n    \"click .import\": \"import\",\n    \"change .import-file\": \"uploadFile\",\n    \"click .export\": \"export\"\n  };\n\n  AppView.prototype.template = function() {\n    var infos, template;\n    template = require(\"./templates/home\");\n    infos = {\n      \"mainUrl\": window.location.href\n    };\n    return template(infos);\n  };\n\n  AppView.prototype.initialize = function() {\n    this.router = CozyApp.Routers.AppRouter = new AppRouter();\n    return this.loader = $(\"#loader\");\n  };\n\n  AppView.prototype.startLoader = function() {\n    return this.loader.show(\"slow\");\n  };\n\n  AppView.prototype.stopLoader = function() {\n    return this.loader.hide();\n  };\n\n  AppView.prototype.isQuickmarklet = function() {\n    return window.location.href.search(\"quickmarklet\") > 0;\n  };\n\n  AppView.prototype.parseArgs = function() {\n    var args, path;\n    path = window.location.href.split(\"?\")[1].split(\"&\");\n    return args = {\n      \"url\": decodeURIComponent(path[1].split(\"=\")[1]),\n      \"title\": decodeURIComponent(path[2].split(\"=\")[1])\n    };\n  };\n\n  AppView.prototype.setQuickmarletValues = function() {\n    var args;\n    args = this.parseArgs();\n    $(\"#add-link\").val(args[\"url\"]);\n    return $(\"#add-title\").val(args[\"title\"]);\n  };\n\n  AppView.prototype.afterRender = function() {\n    this.startLoader();\n    this.bookmarksView = new BookmarksView();\n    this.bookmarksView.collection.fetch({\n      success: (function(_this) {\n        return function() {\n          _this.stopLoader();\n          window.sortOptions = {\n            \"valueNames\": [\"title\", \"url\", \"tags\", \"description\"]\n          };\n          window.featureList = new List(\"content\", window.sortOptions);\n          return View.log(\"bookmarks loaded\");\n        };\n      })(this)\n    });\n    this.tagsView = new TagsView();\n    this.tagsView.collection.fetch({\n      success: (function(_this) {\n        return function() {\n          return _this.tagsView.renderAll();\n        };\n      })(this)\n    });\n    if (this.isQuickmarklet()) {\n      $(\"#add-modal\").modal(\"show\");\n      return this.setQuickmarletValues();\n    }\n  };\n\n  AppView.prototype.showAddForm = function(evt) {\n    return $(\"#add-link\").focus();\n  };\n\n  AppView.prototype.showEditForm = function(evt) {\n    return $(\"#edit-link\").focus();\n  };\n\n  AppView.prototype.cleanForm = function(form) {\n    return form.find(\"input[type=text], textarea\").val(\"\");\n  };\n\n  AppView.prototype.bookmarkLink = function(evt) {\n    var bookmark, description, title, url;\n    evt.preventDefault();\n    url = $(\"#add-link\").val();\n    if ((url != null ? url.length : void 0) > 0) {\n      title = $(\"#add-title\").val();\n      description = $(\"#add-description\").val();\n      bookmark = new Bookmark();\n      bookmark.set({\n        \"title\": title,\n        \"url\": url,\n        \"description\": description,\n        \"tags\": bookmark.setTags($(\"#add-tags\").val())\n      });\n      return this.bookmarksView.collection.create(bookmark, {\n        \"success\": (function(_this) {\n          return function() {\n            var modal;\n            View.log(\"\" + (title || url) + \" added.\");\n            modal = $(\"#add-modal\");\n            modal.modal(\"hide\");\n            return _this.cleanForm(modal.find(\"form\"));\n          };\n        })(this),\n        \"error\": (function(_this) {\n          return function() {\n            return View.error(\"Server error occured, \" + \"bookmark was not saved\");\n          };\n        })(this)\n      });\n    } else {\n      return View.error(\"Url field is required\");\n    }\n  };\n\n  AppView.prototype.search = function(evt) {\n    return false;\n  };\n\n  AppView.prototype.showTags = function() {\n    $(\".tag\").addClass(\"tag-show\");\n    $(\".tags-show\").hide();\n    return $(\".tags-hide\").show();\n  };\n\n  AppView.prototype.hideTags = function() {\n    $(\".tag\").removeClass(\"tag-show\");\n    $(\".tags-hide\").hide();\n    return $(\".tags-show\").show();\n  };\n\n  AppView.prototype.addBookmarkFromFile = function(link, others) {\n    var $link, bookmark, description, next, tags, title, url;\n    $link = $(link);\n    if (!!$link.attr(\"href\").indexOf(\"place\") && !$link.attr(\"feedurl\")) {\n      url = $link.attr(\"href\");\n      title = $link.text();\n      description = \"\";\n      next = $link.parents(\":first\").next();\n      if (next.is(\"dd\")) {\n        description = next.text();\n      }\n      tags = [];\n      if ($link.attr(\"tags\")) {\n        tags = $link.attr(\"tags\").split(\",\");\n      }\n      bookmark = new Bookmark({\n        title: title,\n        url: url,\n        tags: tags,\n        description: description\n      });\n      return this.bookmarksView.collection.create(bookmark, {\n        success: (function(_this) {\n          return function() {\n            var imported;\n            imported = $(\".import .done\");\n            if (imported.text()) {\n              imported.text(parseInt(imported.text()) + 1);\n            } else {\n              imported.text(1);\n            }\n            return _this.addBookmarkFromFile(others[0], others.slice(1));\n          };\n        })(this),\n        error: (function(_this) {\n          return function() {\n            var notImported;\n            notImported = $(\".import .failed\");\n            if (notImported.text()) {\n              notImported.text(parseInt(notImported.text()) + 1);\n            } else {\n              notImported.text(1);\n            }\n            return _this.addBookmarkFromFile(others[0], others.slice(1));\n          };\n        })(this)\n      });\n    }\n  };\n\n  AppView.prototype.addBookmarksFromFile = function(file) {\n    var importButton, links, loaded;\n    importButton = $(\".import button\");\n    loaded = $(file);\n    links = loaded.find(\"dt a\");\n    this.addBookmarkFromFile(links[0], links.slice(1));\n    return importButton.removeClass(\"doing\");\n  };\n\n  AppView.prototype.uploadFile = function(evt) {\n    var file, importButton, reader;\n    importButton = $(\".import button\");\n    if (importButton.hasClass(\"doing\")) {\n      return View.error(\"I'm working!\");\n    } else {\n      file = evt.target.files[0];\n      if (file.type !== \"text/html\") {\n        View.error(\"This file cannot be imported\");\n        return;\n      }\n      importButton.addClass(\"doing\");\n      reader = new FileReader();\n      reader.onload = (function(_this) {\n        return function(evt) {\n          return _this.addBookmarksFromFile(evt.target.result);\n        };\n      })(this);\n      return reader.readAsText(file);\n    }\n  };\n\n  AppView.prototype[\"import\"] = function() {\n    return $(\".import-file\").click();\n  };\n\n  AppView.prototype[\"export\"] = function() {\n    return window.location = \"export\";\n  };\n\n  return AppView;\n\n})(View);\n","var BookmarkView, View,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nView = require(\"../lib/view\");\n\nmodule.exports = BookmarkView = (function(superClass) {\n  extend(BookmarkView, superClass);\n\n  BookmarkView.prototype.className = \"bookmark\";\n\n  BookmarkView.prototype.tagName = \"li\";\n\n  BookmarkView.prototype.events = {\n    \"click .edit\": \"edit\",\n    \"click .remove\": \"erase\"\n  };\n\n  function BookmarkView(model) {\n    this.model = model;\n    this[\"delete\"] = bind(this[\"delete\"], this);\n    BookmarkView.__super__.constructor.call(this);\n  }\n\n  BookmarkView.prototype.template = function() {\n    var template;\n    template = require(\"./templates/bookmark\");\n    return template(this.getRenderData().model);\n  };\n\n  BookmarkView.prototype.render = function() {\n    this.model.cleanValues();\n    return BookmarkView.__super__.render.call(this);\n  };\n\n  BookmarkView.prototype.title = function() {\n    return $.trim(this.model.get(\"title\")) || this.model.get(\"url\");\n  };\n\n  BookmarkView.prototype[\"delete\"] = function() {\n    var title;\n    title = this.title();\n    return this.model.destroy({\n      success: (function(_this) {\n        return function() {\n          _this.destroy();\n          window.featureList.remove(\"bookmark-title\", title);\n          return View.log(\"\" + title + \" removed.\");\n        };\n      })(this),\n      error: (function(_this) {\n        return function() {\n          return View.error(\"Server error occured, bookmark was not deleted.\");\n        };\n      })(this)\n    });\n  };\n\n  BookmarkView.prototype.erase = function() {\n    return View.confirm(\"Do you really want to remove \" + this.title() + \"?\", this[\"delete\"]);\n  };\n\n  BookmarkView.prototype.edit = function() {\n    var form, modal;\n    form = $(\"#bookmark-edit\");\n    $(\"#edit-title\").val(this.model.get(\"title\"));\n    $(\"#edit-link\").val(this.model.get(\"url\"));\n    $(\"#edit-description\").val(this.model.get(\"description\"));\n    $(\"#edit-tags\").val(this.model.get(\"readableTags\"));\n    modal = $(\"#edit-modal\");\n    modal.modal(\"show\");\n    form.unbind(\"submit\");\n    return form.on(\"submit\", (function(_this) {\n      return function(evt) {\n        var newValues;\n        evt.preventDefault();\n        newValues = {\n          \"title\": $(\"#edit-title\").val(),\n          \"url\": $(\"#edit-link\").val(),\n          \"description\": $(\"#edit-description\").val(),\n          \"tags\": _this.model.setTags($(\"#edit-tags\").val())\n        };\n        return _this.model.save(newValues, {\n          \"success\": function() {\n            var title;\n            title = _this.model.attributes.title || _this.model.attributes.url;\n            View.log(\"\" + title + \" modified.\");\n            modal.modal(\"hide\");\n            return _this.render();\n          },\n          \"error\": function(a, b, c) {\n            return View.error(\"Server error occured, \" + \"bookmark was not saved\");\n          }\n        });\n      };\n    })(this));\n  };\n\n  return BookmarkView;\n\n})(View);\n","var BookmarkCollection, BookmarkView, BookmarksView, ViewCollection,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nViewCollection = require('../lib/view_collection');\n\nBookmarkView = require('./bookmark_view');\n\nBookmarkCollection = require('../collections/bookmark_collection');\n\nmodule.exports = BookmarksView = (function(superClass) {\n  extend(BookmarksView, superClass);\n\n  function BookmarksView() {\n    this.renderOne = bind(this.renderOne, this);\n    return BookmarksView.__super__.constructor.apply(this, arguments);\n  }\n\n  BookmarksView.prototype.el = '#bookmarks ul';\n\n  BookmarksView.prototype.view = BookmarkView;\n\n  BookmarksView.prototype.renderOne = function(model) {\n    var sortObj, view;\n    view = new this.view(model);\n    this.$el.prepend(view.render().el);\n    this.add(view);\n    if (window.featureList) {\n      sortObj = {\n        \"el\": view.el,\n        \"values\": window.sortOptions.valueNames\n      };\n      window.featureList.add(sortObj);\n    }\n    return this;\n  };\n\n  BookmarksView.prototype.initialize = function() {\n    return this.collection = new BookmarkCollection(this);\n  };\n\n  return BookmarksView;\n\n})(ViewCollection);\n","var TagView, View,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nView = require(\"../lib/view\");\n\nmodule.exports = TagView = (function(superClass) {\n  extend(TagView, superClass);\n\n  TagView.prototype.className = \"tag\";\n\n  TagView.prototype.tagName = \"span\";\n\n  TagView.prototype.events = {\n    \"click\": \"search\"\n  };\n\n  function TagView(model) {\n    this.values = model;\n    TagView.__super__.constructor.call(this);\n  }\n\n  TagView.prototype.getRenderData = function() {\n    return this.values;\n  };\n\n  TagView.prototype.template = function() {\n    var template;\n    template = require(\"./templates/tag\");\n    return template(this.getRenderData());\n  };\n\n  TagView.prototype.search = function() {\n    $(\".search input\").val(this.values.tag);\n    return window.featureList.search(this.values.tag, {\n      \"tags\": \"tags\"\n    });\n  };\n\n  return TagView;\n\n})(View);\n","var TagCollection, TagView, TagsView, ViewCollection,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nViewCollection = require('../lib/view_collection');\n\nTagCollection = require('../collections/tag_collection');\n\nTagView = require('./tag_view');\n\nmodule.exports = TagsView = (function(superClass) {\n  extend(TagsView, superClass);\n\n  function TagsView() {\n    this.renderAll = bind(this.renderAll, this);\n    return TagsView.__super__.constructor.apply(this, arguments);\n  }\n\n  TagsView.prototype.el = '#tags';\n\n  TagsView.prototype.view = TagView;\n\n  TagsView.prototype.renderAll = function() {\n    var average, model, score, scores, tag, total, view;\n    scores = {};\n    total = 0;\n    this.collection.each(function(elem) {\n      var tag;\n      if ((elem != null) && (elem.get(\"tag\") != null)) {\n        tag = elem.get(\"tag\");\n        if ((tag != null) && (scores[tag] != null)) {\n          return scores[tag] += 1;\n        } else {\n          scores[tag] = 1;\n          return total += 1;\n        }\n      }\n    });\n    average = this.collection.length / total;\n    for (tag in scores) {\n      score = scores[tag];\n      model = {\n        tag: tag,\n        score: 1 + .3 * (score / average)\n      };\n      view = new this.view(model);\n      this.$el.prepend(view.render().el);\n      this.add(view);\n    }\n    return this;\n  };\n\n  TagsView.prototype.initialize = function() {\n    return this.collection = new TagCollection(this);\n  };\n\n  return TagsView;\n\n})(ViewCollection);\n","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div class=\"row\"><div class=\"main\"><div class=\"title col-xs-9 col-sm-11 col-md-4\"><a');\nbuf.push(attrs({ 'href':(httpUrl), 'target':(\"_blank\") }, {\"href\":true,\"target\":true}));\nbuf.push('>' + escape((interp = htmlTitle) == null ? '' : interp) + '</a></div><div class=\"url col-xs-9 col-sm-6 col-md-5\"> <a');\nbuf.push(attrs({ 'href':(httpUrl), 'target':(\"_blank\") }, {\"href\":true,\"target\":true}));\nbuf.push('>' + escape((interp = url) == null ? '' : interp) + '</a></div><div class=\"infos col-xs-9 col-sm-5 col-md-2\"> <div class=\"tags\">' + escape((interp = readableTags) == null ? '' : interp) + '</div><div class=\"date\">' + escape((interp = date) == null ? '' : interp) + '</div></div><div class=\"actions\"><button type=\"button\" class=\"btn btn-primary edit\"> <span class=\"glyphicon glyphicon-pencil\"> </span></button><button type=\"button\" class=\"btn btn-primary remove\"> <span class=\"glyphicon glyphicon-remove\"> </span></button></div></div><div class=\"more\"><div class=\"description col-xs-11\">' + escape((interp = description) == null ? '' : interp) + '</div></div></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div id=\"content\"><div id=\"add-modal\" tabindex=\"-1\" role=\"dialog\" class=\"modal fade\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"close\"><span aria-hidden=\"true\"> <img src=\"icons/close.svg\" alt=\"close\" class=\"close\"/></span></button><h2 class=\"modal-title\">Add a new bookmark</h2></div><form id=\"bookmark-add\" class=\"form-horizontal\"><div class=\"modal-body\"><div class=\"form-group row\"><label for=\"add-link\" class=\"col-xs-2  control-label\">Link URL</label><div class=\"col-xs-9\"><input id=\"add-link\" type=\"text\" placeholder=\"http://cozy.io/\" class=\"form-control\"/></div></div><div class=\"form-group row\"><label for=\"add-title\" class=\"col-xs-2  control-label\">Title</label><div class=\"col-xs-9\"><input id=\"add-title\" type=\"text\" placeholder=\"A short title for your bookmark\" class=\"form-control\"/></div></div><div class=\"form-group row\"><label for=\"add-description\" class=\"col-xs-2  control-label\">Description</label><div class=\"col-xs-9\"><textarea id=\"add-description\" placeholder=\"A more complete description of your bookmark\" class=\"form-control\"></textarea></div></div><div class=\"form-group row\"><label for=\"add-tags\" class=\"col-xs-2  control-label\">Tags</label><div class=\"col-xs-9\"><input id=\"add-tags\" type=\"text\" placeholder=\"free, news\" class=\"form-control\"/><p class=\"help-block\">you can use multiple tags, use comma to split them</p></div></div></div><div class=\"modal-footer\"><button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-default cancel\">Cancel</button><button type=\"submit\" class=\"btn btn-primary save\">Save</button></div></form></div></div></div><div id=\"edit-modal\" tabindex=\"-1\" role=\"dialog\" class=\"modal fade\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"close\"><span aria-hidden=\"true\"> <img src=\"icons/close.svg\" alt=\"close\" class=\"close\"/></span></button><h2 class=\"modal-title\">Edit the bookmark</h2></div><form id=\"bookmark-edit\" class=\"form-horizontal\"><div class=\"modal-body\"><div class=\"form-group row\"><label for=\"edit-link\" class=\"col-xs-2  control-label\">Link URL</label><div class=\"col-xs-9\"><input id=\"edit-link\" type=\"text\" placeholder=\"http://cozy.io/\" class=\"form-control\"/></div></div><div class=\"form-group row\"><label for=\"edit-title\" class=\"col-xs-2  control-label\">Title</label><div class=\"col-xs-9\"><input id=\"edit-title\" type=\"text\" placeholder=\"A short title for your bookmark\" class=\"form-control\"/></div></div><div class=\"form-group row\"><label for=\"edit-description\" class=\"col-xs-2  control-label\">Description</label><div class=\"col-xs-9\"><textarea id=\"edit-description\" placeholder=\"A more complete description of your bookmark\" class=\"form-control\"></textarea></div></div><div class=\"form-group row\"><label for=\"edit-tags\" class=\"col-xs-2  control-label\">Tags</label><div class=\"col-xs-9\"><input id=\"edit-tags\" type=\"text\" placeholder=\"free, news\" class=\"form-control\"/><p class=\"help-block\">you can use multiple tags, use comma to split them</p></div></div></div><div class=\"modal-footer\"><button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-default cancel\">Cancel</button><button type=\"submit\" class=\"btn btn-primary save\">Save</button></div></form></div></div></div><div id=\"transfer-modal\" tabindex=\"-1\" role=\"dialog\" class=\"modal fade\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"close\"><span aria-hidden=\"true\"> <img src=\"icons/close.svg\" alt=\"close\" class=\"close\"/></span></button><h2 class=\"modal-title\">Import/Export bookmarks</h2><div class=\"modal-body\"><input type=\"file\" name=\"import-file\" class=\"import-file\"/><button type=\"button\" class=\"export btn btn-primary\">Export</button><button type=\"button\" class=\"import btn btn-primary\">Import</button><div class=\"done\"></div><div class=\"failed\"></div></div></div></div></div></div><div id=\"header\"><div class=\"row\"><div class=\"add\"><button type=\"button\" data-toggle=\"modal\" data-target=\"#add-modal\" class=\"btn btn-default add-bookmark\"> <img src=\"icons/add.svg\" alt=\"add\"/><div class=\"add-bookmark-title\">Add a new bookmark</div></button></div><div class=\"or\">or</div><form class=\"search\"><div class=\"input-group\"><input type=\"text\" placeholder=\"Search for a bookmark\" class=\"form-control\"/><div class=\"input-group-addon\"><img src=\"icons/search.svg\" alt=\"search\"/></div></div><p class=\"help-block\">Type a keyword, we will search for it in your saved bookmarks </p></form><div class=\"transfer\"><button title=\"import/export bookmarks\" type=\"button\" data-toggle=\"modal\" data-target=\"#transfer-modal\" class=\"btn btn-default transfer-bookmarks\"> <span class=\"glyphicon glyphicon-transfer\"></span></button></div><div class=\"quickmarklet\"><a');\nbuf.push(attrs({ 'href':('javascript:(function(){var a=window,b=document,c=encodeURIComponent,d=a.open(\"' + (mainUrl) + '?quickmarklet&url=\"+c(b.location)+\"&title=\"+c(b.title),\"qck_popup\",\"left=\"+((a.screenX||a.screenLeft)+64)+\",top=\"+((a.screenY||a.screenTop)+64)+\",width=720,height=540,resizable=1,alwaysRaised=1\");a.setTimeout(function(){d.focus()},300)})();'), 'title':(\"Drag and drop me to your favorites toolbar to get a bookmarklet!\"), \"class\": (\"btn btn-default add-quickmarklet\") }, {\"href\":true,\"class\":true,\"title\":true}));\nbuf.push('>cozy-quickmarklet</a></div></div></div><div id=\"tags-toggle\" class=\"row\"><div class=\"buttons col-xs-offset-1 col-sm-offset-9\"><div class=\"tags-show\"><img src=\"icons/hide-show.svg\" alt=\"show\"/>show tags</div><div class=\"tags-hide\"><img src=\"icons/hide-show.svg\" alt=\"show\"/>hide tags</div></div></div><div id=\"tags\"></div><div id=\"loader\" class=\"loader-inner ball-pulse\"><p>Loading bookmarks, please wait ...</p></div><div id=\"bookmarks\"><ul class=\"list\"></ul></div></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<span');\nbuf.push(attrs({ 'style':(\"font-size:\" + (score) + \"em\") }, {\"style\":true}));\nbuf.push('>' + escape((interp = tag) == null ? '' : interp) + '</span>');\n}\nreturn buf.join(\"\");\n};"]}